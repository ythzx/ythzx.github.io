<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>小鑫</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  
  
  
  <meta property="og:type" content="website">
<meta property="og:title" content="小鑫">
<meta property="og:url" content="https://github.com/ythzx/ythzx.github.io/index.html">
<meta property="og:site_name" content="小鑫">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="小鑫">
  
    <link rel="alternate" href="/atom.xml" title="小鑫" type="application/atom+xml">
  
  <link rel="icon" href="/css/images/favicon.ico">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>
    
  <link rel="stylesheet" id="athemes-headings-fonts-css" href="//fonts.googleapis.com/css?family=Yanone+Kaffeesatz%3A200%2C300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">
  <link rel="stylesheet" href="/css/style.css">

  <script src="/js/jquery-3.1.1.min.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/css/bootstrap.css" >
  <link rel="stylesheet" href="/css/hiero.css" >
  <link rel="stylesheet" href="/css/glyphs.css" >

</head>



  <body>


  <header id="allheader" class="site-header" role="banner">
  <div class="clearfix container">
      <div class="site-branding">

          <h1 class="site-title">
            
              <a href="/" title="小鑫" rel="home"> 小鑫 </a>
            
          </h1>

          
            
          <nav id="main-navigation" class="main-navigation" role="navigation">
            <a class="nav-open">Menu</a>
            <a class="nav-close">Close</a>
            <div class="clearfix sf-menu">

              <ul id="main-nav" class="nmenu sf-js-enabled">
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/">首页</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/archives">归档</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/categories">分类</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/tags">标签</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/about">关于</a> </li>
                    
              </ul>
            </div>
          </nav>


      </div>
  </div>
</header>


  <div style="background:#fff;width: 100%;">

      <div style="max-height:600px; overflow: hidden;">
        <img width="100%" alt="Hike News" src="/css/images/pose.jpg">
      </div>

  </div>



  <div id="container">
    <div id="wrap">
            
      <div id="content" class="outer">
        
          <section id="main">
  
    <article id="post-面向对象进阶"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/04/24/面向对象进阶/">Python 面向对象进阶</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/2017/04/24/面向对象进阶/" class="article-date">
	  <time datetime="2017-04-24T10:49:44.864Z" itemprop="datePublished">四月 24, 2017</time>
	</a>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="1-isinstance-和issubclass"><a href="#1-isinstance-和issubclass" class="headerlink" title="1 isinstance 和issubclass"></a>1 isinstance 和issubclass</h2><h3 id="instance-判断该对象是否是类的对象"><a href="#instance-判断该对象是否是类的对象" class="headerlink" title="instance:判断该对象是否是类的对象"></a>instance:判断该对象是否是类的对象</h3><p><strong> isinstance（obj,Foo） </strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">x = []</div><div class="line">print(isinstance(x,list))</div></pre></td></tr></table></figure>
<p>结果：<br>True</p>
<h3 id="issubclass-判断是否是继承"><a href="#issubclass-判断是否是继承" class="headerlink" title="issubclass:判断是否是继承"></a>issubclass:判断是否是继承</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span>:</span></div><div class="line">    <span class="keyword">pass</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bar</span><span class="params">(Foo)</span>:</span></div><div class="line">    <span class="keyword">pass</span></div><div class="line">print(issubclass(Bar,Foo))</div></pre></td></tr></table></figure>
<p>结果：<br>True</p>
<p>通过下面的方式也可以查看<br>print(Bar.<strong>base</strong>)   </p>
<h2 id="2-反射"><a href="#2-反射" class="headerlink" title="2 反射"></a>2 反射</h2><blockquote>
<p>反射是Smi首次提出的，主要指程序可以访问、检测和修改它本身状态行为的一种能力，也可以叫做<strong>自省</strong></p>
</blockquote>
<h3 id="2-1面向对象中的反射"><a href="#2-1面向对象中的反射" class="headerlink" title="2.1面向对象中的反射"></a>2.1面向对象中的反射</h3><p>面向对象中的反射，是通过<strong>字符串形式操作对象</strong>的属性，<strong>Python中一切都是对象</strong>，都可以使用对象</p>
<p>Python中通过<strong>hasattr、getattr、setattr、deltattr</strong>实现自省的函数，适用于<strong>类和对象</strong>（一切都是对象）</p>
<p>反射就是把字符串反射成相应的命令</p>
<h4 id="hasattr"><a href="#hasattr" class="headerlink" title="hasattr"></a>hasattr</h4><p>查看类和对象中是否有name,用字符串表示，实例在找的时候首先从自身找，自身没有从类找。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span>:</span></div><div class="line">    name = <span class="string">'aaa'</span></div><div class="line">f1 =Foo()</div><div class="line">print(hasattr(Foo,<span class="string">'name'</span>))</div><div class="line">print(hasattr(f1,<span class="string">'name'</span>))</div></pre></td></tr></table></figure></p>
<p>结果：<br>True<br>True</p>
<h4 id="setattr"><a href="#setattr" class="headerlink" title="setattr"></a>setattr</h4><p>setattr是设置属性，setattr(x,y,z)<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span>:</span></div><div class="line">    name = <span class="string">'aaa'</span></div><div class="line">f1 =Foo()</div><div class="line"></div><div class="line">setattr(Foo,<span class="string">'age'</span>,<span class="number">18</span>)</div><div class="line">print(Foo,<span class="string">'age'</span>)</div><div class="line">print(f1,<span class="string">'age'</span>)</div></pre></td></tr></table></figure></p>
<h4 id="deltattr"><a href="#deltattr" class="headerlink" title="deltattr"></a>deltattr</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">print(Foo.__dict__)</div><div class="line">delattr(Foo,<span class="string">'name'</span>)</div><div class="line">print(Foo.__dict__)   </div><div class="line">print(hasattr(f1,<span class="string">'name'</span>))</div></pre></td></tr></table></figure>
<p>结果：<br>False<br>通过打印类的名称空间可以查看到name已经没有了</p>
<h4 id="getattr"><a href="#getattr" class="headerlink" title="getattr"></a>getattr</h4><p>getattr是查找那个属性，并把命名它的值获得，实际的原理是通过获得字典中的key,然后获得value</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">People</span>:</span></div><div class="line">    country = <span class="string">'china'</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,name)</span>:</span></div><div class="line">        self.name=name</div><div class="line"></div><div class="line">p = People(<span class="string">'aaa'</span>)</div><div class="line">print(hasattr(p,<span class="string">'name'</span>))</div><div class="line">print(<span class="string">'name'</span> <span class="keyword">in</span> p.__dict__)  <span class="comment"># 执行的效果是一样的e</span></div><div class="line"></div><div class="line">print(hasattr(p,<span class="string">'country'</span>))</div><div class="line">print(hasattr(People,<span class="string">'country'</span>))</div><div class="line"></div><div class="line">print(getattr(p,<span class="string">'country'</span>))</div><div class="line">print(getattr(p,<span class="string">'__init__'</span>))</div><div class="line">print(getattr(People,<span class="string">'country'</span>))</div></pre></td></tr></table></figure>
<h3 id="2-3模块的反射"><a href="#2-3模块的反射" class="headerlink" title="2.3模块的反射"></a>2.3模块的反射</h3><p>Python中一切皆对象，模块文件等都是对象<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> sys</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">s1</span><span class="params">()</span>:</span></div><div class="line">    <span class="keyword">pass</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">s2</span><span class="params">()</span>:</span></div><div class="line">    <span class="keyword">pass</span></div><div class="line">this_module = sys.modules[__name__]</div><div class="line">print(hasattr(this_module,<span class="string">'s1'</span>))</div><div class="line">print(getattr(this_module,<span class="string">'s1'</span>))</div></pre></td></tr></table></figure></p>
<ul>
<li>结果：<br>True</li>
</ul>
<p>function s1 at 0x00000000005F3E18</p>
<h2 id="3-内置attr"><a href="#3-内置attr" class="headerlink" title="3 内置attr"></a>3 内置attr</h2><h3 id="getattr-1"><a href="#getattr-1" class="headerlink" title="getattr"></a><strong>getattr</strong></h3><p> <strong><strong>getattr</strong>只有在调用的属性不存在的时候才会触发</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,name)</span>:</span></div><div class="line">        self.name = name</div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getattr__</span><span class="params">(self, item)</span>:</span></div><div class="line">        print(<span class="string">"getattr--%s %s"</span>%(item,type(item)))</div><div class="line"></div><div class="line">f = Foo(<span class="string">'aaa'</span>)</div><div class="line">print(f.xxx)</div></pre></td></tr></table></figure></p>
<ul>
<li>结果：<br><em>getattr–xxx     class ‘str’<br>None</em></li>
</ul>
<h3 id="setattr-1"><a href="#setattr-1" class="headerlink" title="setattr"></a><strong>setattr</strong></h3><p><strong><strong>setattr</strong>添加/修改属性会触发它的执行</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,x)</span>:</span></div><div class="line">        self.name=x</div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__setattr__</span><span class="params">(self, key, value)</span>:</span>  <span class="comment"># 与上面的对应关系是self--self,name--key,x--value</span></div><div class="line">        self.__dict__[key]=value  <span class="comment"># 真正修改的是__dict__中的内容</span></div><div class="line">f1 = Foo(<span class="string">'aaa'</span>)</div><div class="line">f1.x=<span class="string">'bbb'</span>   <span class="comment"># 修改属性</span></div><div class="line">f1.age=<span class="number">18</span>  <span class="comment"># 增加属性</span></div><div class="line">print(f1.__dict__) <span class="comment"># 在名称对象的名称空间中可以显示</span></div></pre></td></tr></table></figure>
<h3 id="deltattr-1"><a href="#deltattr-1" class="headerlink" title="deltattr"></a><strong>deltattr</strong></h3><p>只有删除属性的时候才会触发<strong>deltatr</strong>的执行<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,x)</span>:</span></div><div class="line">        self.name=x</div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__setattr__</span><span class="params">(self, key, value)</span>:</span>  <span class="comment"># 与上面的对应关系是self--self,name--key,x--value</span></div><div class="line">        self.__dict__[key]=value  <span class="comment"># 真正修改的是__dict__中的内容</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__delattr__</span><span class="params">(self, item)</span>:</span></div><div class="line">        self.__dict__.pop(item)</div><div class="line">f1=Foo(<span class="string">'aaa'</span>)</div><div class="line">print(f1.__dict__)</div><div class="line"><span class="keyword">del</span> f1.name</div><div class="line">print(f1.__dict__)</div></pre></td></tr></table></figure></p>
<p><strong>结果：<br>{‘name’: ‘aaa’}<br>{}</strong></p>
<h3 id="4-反射的应用"><a href="#4-反射的应用" class="headerlink" title="4 反射的应用"></a>4 反射的应用</h3><h4 id="4-1-可插拔机制"><a href="#4-1-可插拔机制" class="headerlink" title="4.1 可插拔机制"></a>4.1 可插拔机制</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#客户端</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">FtpClient</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,addr)</span>:</span></div><div class="line">        print(<span class="string">'正在连接服务器[%s]'</span>%addr)</div><div class="line">        self.addr = addr</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span><span class="params">(self)</span>:</span></div><div class="line">        print(<span class="string">'get'</span>)</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test</span><span class="params">(self)</span>:</span></div><div class="line">        print(<span class="string">'test'</span>)</div></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#服务端，需要使用客户端的内容</span></div><div class="line"><span class="keyword">import</span> ftpclient  <span class="comment"># 导入test模块（这里是文件）</span></div><div class="line"><span class="comment"># f1 = FtpClient('192.168.1.1')  # wrong</span></div><div class="line">f1=ftpclient.FtpClient(<span class="string">'192.168.1.1'</span>)   <span class="comment">#这里的对象是文件，即ftpclient,对这个对象进行实例化</span></div><div class="line"><span class="keyword">if</span> hasattr(f1,<span class="string">'get'</span>):  <span class="comment"># 首先看是否有这个功能</span></div><div class="line">    func_get=getattr(f1,<span class="string">'get'</span>)  <span class="comment"># getattr是获得相应的内存地址</span></div><div class="line">    func_get()</div><div class="line"><span class="keyword">else</span>:  <span class="comment"># else预语言中是真正的逻辑</span></div><div class="line">    print(<span class="string">'其他逻辑'</span>)</div></pre></td></tr></table></figure>
<h4 id="4-2-通过字符串导入模块"><a href="#4-2-通过字符串导入模块" class="headerlink" title="4.2 通过字符串导入模块"></a>4.2 通过字符串导入模块</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">m = input(<span class="string">"输入你要导入的模块"</span>)</div><div class="line">m1 = __import__(m)</div><div class="line">print(m1)</div></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> importlib</div><div class="line">t = importlib.import_module(<span class="string">'time'</span>)</div><div class="line">print(t.time)</div></pre></td></tr></table></figure>
<h3 id="5-二次加工标准类型（包装）"><a href="#5-二次加工标准类型（包装）" class="headerlink" title="5 二次加工标准类型（包装）"></a>5 二次加工标准类型（包装）</h3><p>Python内部已经有了标准的数据类型和内置方法，但是在很多的情况下，我们需要对数据类型进行自己定制，这几用到了继承和派生的知识</p>
<p><strong>对append添加限制，只能添加数字类型的</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">List</span><span class="params">(list)</span>:</span> <span class="comment"># List 继承了列表list</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">append</span><span class="params">(self, p_object)</span>:</span>  <span class="comment"># 仅仅对append进行修改</span></div><div class="line">        <span class="keyword">if</span> <span class="keyword">not</span> isinstance(p_object,int):  <span class="comment">#　限制数据类型</span></div><div class="line">            <span class="keyword">raise</span> TypeError(<span class="string">'must be int'</span>)</div><div class="line">        super().append(p_object)  <span class="comment"># 真正的修改,super是对父类进行修改</span></div><div class="line">l = list([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</div><div class="line">print(l)</div><div class="line">l.append(<span class="number">4</span>)   <span class="comment"># 这里是对属性进行修改，实际是对类进行修改</span></div><div class="line">print(l)</div></pre></td></tr></table></figure></p>
<p><strong>结果：<br>[1, 2, 3]<br>[1, 2, 3, 4]</strong></p>
<p><strong>上面的情况仅仅是对append进行了修改并添加了限制，list的其他的属性如insert是没有限制的</strong></p>
<h3 id="授权"><a href="#授权" class="headerlink" title="授权"></a>授权</h3><p><strong>授权是包装的一个特性，上面的情况是通过继承来实现的，但是函数是不能继承的</strong></p>
<p>授权的过程是所有更新的功能都是由新类的某部分来处理，已经存在的就授权给对象的默认属性</p>
<p><strong>实现授权的关键点就是覆盖<strong>getattr</strong>方法</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> time</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Open</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,filepath,mode=<span class="string">'r'</span>,encoding=<span class="string">'utf-8'</span>)</span>:</span></div><div class="line">        self.x = open(filepath,mode=mode,encoding=encoding)  <span class="comment"># self.x是文件句柄 拿到文件中的内容</span></div><div class="line">        self.filepath=filepath</div><div class="line">        self.mode=mode</div><div class="line">        self.encoding=encoding</div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">write</span><span class="params">(self,line)</span>:</span>  <span class="comment"># 在类中新建write功能</span></div><div class="line">        t=time.strftime(<span class="string">'%Y-%m-%d %X'</span>)</div><div class="line">        self.x.write(<span class="string">"%s %s"</span> %(t,line))  <span class="comment"># self.x存放的是文件句柄</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getattr__</span><span class="params">(self, item)</span>:</span>  <span class="comment"># 通过getattr实现的叫做授权</span></div><div class="line">        <span class="comment"># print('----&gt;',item,type(item))  # 测试查看类型</span></div><div class="line">        <span class="keyword">return</span> getattr(self.x,item)  <span class="comment"># 从一个文件对象获得 字符串   现在获得的是self.x 相应方法的地址</span></div><div class="line">f=Open(<span class="string">'b.txt'</span>,<span class="string">'w'</span>) <span class="comment">#实例化一个对象 传入相应的参数</span></div><div class="line">f.write(<span class="string">'123\n'</span>)   <span class="comment">#Open没有实际的writearttribute</span></div><div class="line"></div><div class="line">f.write(<span class="string">'123\n'</span>)</div><div class="line">f.write(<span class="string">'123\n'</span>)</div><div class="line">f.write(<span class="string">'123\n'</span>)</div><div class="line">f.write(<span class="string">'123\n'</span>)</div><div class="line">f.write(<span class="string">'123\n'</span>)</div><div class="line">f.write(<span class="string">'123\n'</span>)</div></pre></td></tr></table></figure>
<p>这样就能在文件中添加了带有时间的内容</p>
<p>对文件进行读操作：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">f=Open(<span class="string">'b.txt'</span>,<span class="string">'r'</span>)  <span class="comment"># 重新实例化</span></div><div class="line">res = f.read()<span class="comment"># f.read实际是self.x 的方法</span></div><div class="line">print(res)</div><div class="line">f.seek(<span class="number">0</span>)  <span class="comment">#此时光标位于文件的最后</span></div><div class="line">print(f.read())  <span class="comment">#这样就可以重新读文件</span></div></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li></ul>

      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-Python 静态方法 类方法"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/04/22/Python 静态方法 类方法/">Python 静态方法 类方法</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/2017/04/22/Python 静态方法 类方法/" class="article-date">
	  <time datetime="2017-04-22T10:20:49.028Z" itemprop="datePublished">四月 22, 2017</time>
	</a>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        

          
            <div class="entry-summary" style="margin-left:0;">
            通常情况下，类中函数中定义的所有函数,,都是对象的绑定方法，除此之外，还有专门的静态方法和类方法，这两个是专门给类使用的，但是对象非要调用也是不会报错的。
对象在调用的时候会把自己传递给self，也就是绑定方法的第一个参数。
1 静态方法
这里定义spam的时候没有self,而是传入了xyz,类在使用的时候必须传入3个参数1234567class Foo:    @staticmethod  # spam = staticmethod(apam)    def spam(x,y,z):        print(x,y,z)    # spm = staticmethod(spam)Foo.spam(1,2,3)
应用场景首相先了解下时间模块的使用1234567&gt;&gt;&gt;...
          

        
          <p class="article-more-link">
            <a href="/2017/04/22/Python 静态方法 类方法/#more">阅读全文</a>
          </p>
        </div>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li></ul>

      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-Python封装补充"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/04/21/Python封装补充/">Python 封装补充</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/2017/04/21/Python封装补充/" class="article-date">
	  <time datetime="2017-04-21T11:19:20.590Z" itemprop="datePublished">四月 21, 2017</time>
	</a>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        

          
            <div class="entry-summary" style="margin-left:0;">
            property属性property实际是setter getter deleter是集合体，并不是一个单独的方法

123456789101112131415161718import math  # 使用的库class Circle:    def __init__(self,radius): #定义圆的半径        self.radius = radius    @property   # area = property(area)  #    def area(self):        return math.pi * self.radius**2  # 在类内部的函数，返回值    @property    def peirimeter(self):        re...
          

        
          <p class="article-more-link">
            <a href="/2017/04/21/Python封装补充/#more">阅读全文</a>
          </p>
        </div>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li></ul>

      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-Python的多态与多态性"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/04/20/Python的多态与多态性/">Python 的多态与多态性</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/2017/04/20/Python的多态与多态性/" class="article-date">
	  <time datetime="2017-04-20T15:23:28.890Z" itemprop="datePublished">四月 20, 2017</time>
	</a>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        

          
            <div class="entry-summary" style="margin-left:0;">
             多态：是指一类事物有多种形态（！！！！定义角度！！！！）
 多态性：在继承的基础上， （！！！！使用角度！！！！！）
使用多态性，实现了利用函数统一调用一个接口
多态
1234567891011121314151617181920212223242526#多态：同一种事物的多种形态，动物分为人类，猪类（在定义角度）class Animal:    def run(self):        raise AttributeError('子类必须实现这个方法')class People(Animal):    def run(self):        print('人正在走')class Pig(Animal):    def run(self):        print('pig ...
          

        
          <p class="article-more-link">
            <a href="/2017/04/20/Python的多态与多态性/#more">阅读全文</a>
          </p>
        </div>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li></ul>

      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-Python继承实现的原理"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/04/20/Python继承实现的原理/">Python 继承实现的原理</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/2017/04/20/Python继承实现的原理/" class="article-date">
	  <time datetime="2017-04-20T15:22:04.816Z" itemprop="datePublished">四月 20, 2017</time>
	</a>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        

          
            <div class="entry-summary" style="margin-left:0;">
            继承顺序
 Python3 ：            新式类的查找顺序：广度优先
新式类的继承：
        class A(object):  Python2 3 都是了

MRO算法--生成一个列表保存继承顺序表

不找到底部
Python2 中有新式类 和 经典类            Python2 默认的是经典类
   经典类的继承是 深度优先

找到最深的，然后从头开始找
例子1234567891011121314151617181920212223242526272829303132class A(object):  #定义新式类    def test(self):        print('frome A')class B(A):    def test(sel...
          

        
          <p class="article-more-link">
            <a href="/2017/04/20/Python继承实现的原理/#more">阅读全文</a>
          </p>
        </div>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li></ul>

      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/2/">下一页</a>
  </nav>

</section>
          <aside id="sidebar">
  
    <div class="widget-wrap" style="margin: 20px 0;">
	<div id="search-form-wrap">

    <form class="search-form">
        <label style="width: 75%;">
            <span class="screen-reader-text">Search for:</span>
            <input type="search" class="search-field" style="height: 42px;" placeholder=" 搜索…" value="" name="s" title="Search for:">
        </label>
        <input type="submit" class="search-form-submit" value="搜索">
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="请输入关键词..."/>
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(无标题)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
</div>
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">联系我们</h3>
    <div class="widget widget_athemes_social_icons">

    	<ul class="clearfix widget-social-icons">   
    	
   			<li><a href="https://github.com/ythzx/ythzx.github.io" title="Github"><i class="fa fa-github" aria-hidden="true"></i></a></li> 

   		
   			<li><a href="https://weibo.com/" title="Weibo"><i class="fa fa-weibo" aria-hidden="true"></i></a></li> 

   		
   			<li><a href="https://www.twitter.com/" title="Twitter"><i class="fa fa-twitter" aria-hidden="true"></i></a></li> 

   		
   			<li><a href="https://www.facebook.com/" title="Facebook"><i class="fa fa-facebook" aria-hidden="true"></i></a></li> 

   		
   			<li><a href="https://:www.google.com/" title="Google-plus"><i class="fa fa-google-plus" aria-hidden="true"></i></a></li> 

   		
   			<li><a href="https://www.instagram.com/" title="Instagram"><i class="fa fa-instagram" aria-hidden="true"></i></a></li> 

   		
   			<li><a href="null" title="Pinterest"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li> 

   		
   			<li><a href="null" title="Flickr"><i class="fa fa-flickr" aria-hidden="true"></i></a></li> 

   		
   		</ul>


   		<!--
   		<ul class="clearfix widget-social-icons">   		
   		<li class="widget-si-twitter"><a href="http://twitter.com" title="Twitter"><i class="ico-twitter"></i></a></li> 
		<li class="widget-si-facebook"><a href="http://facebook.com" title="Facebook"><i class="ico-facebook"></i></a></li>
			<li class="widget-si-gplus"><a href="http://plus.google.com" title="Google+"><i class="ico-gplus"></i></a></li>
			<li class="widget-si-pinterest"><a href="http://pinterest.com" title="Pinterest"><i class="ico-pinterest"></i></a></li>
			<li class="widget-si-flickr"><a href="http://flickr.com" title="Flickr"><i class="ico-flickr"></i></a></li>
			<li class="widget-si-instagram"><a href="http://instagram.com" title="Instagram"><i class="ico-instagram"></i></a></li>
		</ul> -->

    </div>
  </div>


  
    
  <div class="widget_athemes_tabs">
    <ul id="widget-tab" class="clearfix widget-tab-nav">
      <li class="active"><a>最新文章</a></li>
    </ul>
    <div class="widget">
      <ul>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2017/04/24/面向对象进阶/">Python 面向对象进阶</a></h6>
              <span>四月 24, 2017</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2017/04/22/Python 静态方法 类方法/">Python 静态方法 类方法</a></h6>
              <span>四月 22, 2017</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2017/04/21/Python封装补充/">Python 封装补充</a></h6>
              <span>四月 21, 2017</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2017/04/20/Python的多态与多态性/">Python 的多态与多态性</a></h6>
              <span>四月 20, 2017</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2017/04/20/Python继承实现的原理/">Python 继承实现的原理</a></h6>
              <span>四月 20, 2017</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/2017/04/20/python封装/">Python 封装</a></h6>
              <span>四月 20, 2017</span>
            </div>

          </li>
        
      </ul>
    </div>
  </div>

  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a><span class="tag-list-count">27</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/Python/" style="font-size: 20px;">Python</a> <a href="/tags/python/" style="font-size: 10px;">python</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>

    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">四月 2017</a><span class="archive-list-count">22</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a><span class="archive-list-count">18</span></li></ul>
    </div>
  </div>


  
</aside>
        
      </div>
      <footer id="footer" class="site-footer">
  

  <div class="clearfix container">
      <div class="site-info">
	      &copy; 2017 小鑫 All Rights Reserved.
      </div>
      <div class="site-credit">
        Theme by <a href="https://github.com/iTimeTraveler/hexo-theme-hiero" target="_blank">hiero</a>
      </div>
  </div>
</footer>


<!-- min height -->

<script>
    var contentdiv = document.getElementById("content");

    contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("allheader").offsetHeight - document.getElementById("footer").offsetHeight + "px";
</script>
    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/categories" class="mobile-nav-link">Categories</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav> -->
    
<div style="display: none;">
  <script src="https://s11.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
</div>

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>
<script src="/js/bootstrap.js"></script>
<script src="/js/main.js"></script>






<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?93b40df12317201527431272f20ac28a";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

  </div>

  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js" async=""></script>
  

  <div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
  </div>


</body>
</html>
